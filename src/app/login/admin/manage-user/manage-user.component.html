<mat-toolbar>
  <div class="toolbarst">
    จัดการข้อมูลผู้ใช้งาน
  </div>
</mat-toolbar>


  <div class="container-fluid">
    <div class="row">

      <div class="col-md-8">

        <br>
        <!-- <form class="sreach" [formGroup]="sreachuser" (ngSubmit)="sreach()" > -->
        <!-- <mat-form-field  > -->
        <input placeholder="ค้นหาผู้ใช้งาน" class="sreach" [formControl]="userid">
        <!-- </mat-form-field> -->
        <button mat-raised-button color="primary" type="submit" (click)="sreach()">ค้นหา</button>
        <!-- </form> -->

        <br>

      </div>
      <div class="col-md-4"></div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-12">
          <div class="mat-elevation-z8">
              <table mat-table [dataSource]="dataSource">
    
                  <ng-container matColumnDef="บัญชีผู้ใช้ระบบ">
                      <th mat-header-cell *matHeaderCellDef> บัญชีผู้ใช้ระบบ </th>
                      <td mat-cell *matCellDef="let element"> {{element.user_id}} </td>
                    </ng-container>
        
                    <!-- Name Column -->
                    <ng-container matColumnDef="รหัสผ่าน">
                      <th mat-header-cell *matHeaderCellDef> รหัสผ่าน </th>
                      <td mat-cell *matCellDef="let element"> {{element.password}} </td>
                    </ng-container>
        
                    <!-- Weight Column -->
                    <ng-container matColumnDef="ชื่อ">
                      <th mat-header-cell *matHeaderCellDef> ชื่อ </th>
                      <td mat-cell *matCellDef="let element"> {{element.firstname}} </td>
                    </ng-container>
        
                    <!-- Symbol Column -->
                    <ng-container matColumnDef="นามสกุล">
                      <th mat-header-cell *matHeaderCellDef> นามสกุล </th>
                      <td mat-cell *matCellDef="let element"> {{element.lastname}} </td>
                    </ng-container>
    
                <!-- Name Column -->
                <ng-container matColumnDef="อีเมล์">
                  <th mat-header-cell *matHeaderCellDef> อีเมล์ </th>
                  <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                </ng-container>
    
                <!-- Weight Column -->
                <ng-container matColumnDef="เบอร์โทรศัพท์">
                  <th mat-header-cell *matHeaderCellDef> เบอร์โทรศัพท์ </th>
                  <td mat-cell *matCellDef="let element"> {{element.phone_number}} </td>
                </ng-container>
    
                <!-- Symbol Column -->
                <ng-container matColumnDef="คณะ">
                  <th mat-header-cell *matHeaderCellDef> คณะ </th>
                  <td mat-cell *matCellDef="let element"> {{element.faculty}} </td>
                </ng-container>
    
                <ng-container matColumnDef="ภาควิชา">
                  <th mat-header-cell *matHeaderCellDef> ภาควิชา </th>
                  <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                </ng-container>
  
                <ng-container matColumnDef="แก้ไข/ลบ">
                  <th mat-header-cell *matHeaderCellDef> แก้ไข/ลบ </th>
                  <td mat-cell *matCellDef="let element">&nbsp;&nbsp;&nbsp;&nbsp;<i style="cursor: pointer;" class="fa fa-pencil" (click)="updateuser(element,edit)"
                      aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <i class="fa fa-trash-o" (click)="deleteuser(element.user_id,delete)" aria-hidden="true" style="cursor: pointer;"></i></td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
    
              <mat-paginator [pageSizeOptions]="[5, 10]" showFirstLastButtons></mat-paginator>
            </div>

        <!-- <table class="table table-bordered shadow">
          <thead>
            <tr>
              <th scope="col">บัญชีผู้ใช้ระบบ</th>
              <th scope="col">รหัสผ่าน</th>
              <th scope="col">ชื่อ</th>
              <th scope="col">นามสกุล</th>
              <th scope="col">อีเมล์</th>
              <th scope="col">เบอร์โทรศัพท์</th>
              <th scope="col">คณะ</th>
              <th scope="col">ภาควิชา</th>
              <th scope="col">แก้ไข/ลบ</th>

            </tr>
          </thead>
          <tbody *ngFor="let list of listuser ">
            <tr>
              <td>{{list.user_id}}</td>
              <td>{{list.password}}</td>
              <td>{{list.firstname}}</td>
              <td>{{list.lastname}}</td>
              <td>{{list.email}}</td>
              <td>{{list.phone_number}}</td>
              <td>{{list.faculty}}</td>
              <td>{{list.department}}</td>
              <td>&nbsp;&nbsp;&nbsp;&nbsp;<i class="fa fa-pencil" (click)="updateuser(list,edit)" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <i class="fa fa-trash-o" (click)="deleteuser(list.user_id,delete)" aria-hidden="true"></i></td>
            </tr>
          </tbody>
        </table> -->
      </div>
    </div>
  </div>



<!-- <ng-template #add let-modal>
  <form class="animation" [formGroup]="addadmin" (ngSubmit)="add_Admin()">
      <h3>เพิ่มผู้ดูแลระบบ</h3>
      <mat-form-field>
          <input matInput placeholder="Username" formControlName="admin_id"  >
      </mat-form-field>
      <br>
      <mat-form-field>
          <input matInput placeholder="Password" formControlName="admin_password">
      </mat-form-field>
      <br>
      <mat-form-field>
          <input matInput placeholder="Firstname" formControlName="firstname" >
      </mat-form-field>
      <br>
      <mat-form-field>
          <input matInput placeholder="Lastname" formControlName="lastname">
      </mat-form-field>
      <br>
      <button mat-button mat-raised-button color="warn" (click)="closeModal()">ยกเลิก</button>
      <button mat-raised-button color="primary" type="submit">ยืนยัน</button>
  </form>
</ng-template> -->

<ng-template #edit let-modal>
  <form class="animation" [formGroup]="edituser" (ngSubmit)="editUser()">
    <h3>แก้ไขข้อมูล</h3>
    <fieldset disabled="disabled">
      <mat-form-field>
        <input matInput placeholder="บัญชีผู้ใช้ระบบ" formControlName="user_id" [value]="updateuser_id" [(ngModel)]="updateuser_id">
      </mat-form-field>
    </fieldset>
    <mat-form-field>
      <input matInput placeholder="รหัสผ่าน" formControlName="password" [value]="updatepassword" [(ngModel)]="updatepassword">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="ชื่อ" formControlName="firstname" [value]="updatefirstname" [(ngModel)]="updatefirstname">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="นามสกุล" formControlName="lastname" [value]="updatelastname" [(ngModel)]="updatelastname">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="อีเมล์" formControlName="email" [value]="updateemail" [(ngModel)]="updateemail">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="เบอร์โทรศัพ์" formControlName="phone_number" [value]="updatephone_number"
        [(ngModel)]="updatephone_number">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="คณะ" formControlName="faculty" [value]="updatefaculty" [(ngModel)]="updatefaculty">
    </mat-form-field>
    <br>
    <mat-form-field>
      <input matInput placeholder="ภาควิชา" formControlName="department" [value]="updatedepartment" [(ngModel)]="updatedepartment">
    </mat-form-field>

    <!-- <div mat-dialog-actions> -->
    <br>
    <button mat-button mat-raised-button color="warn" (click)="closeModal()">ยกเลิก</button>
    <button mat-raised-button color="primary" type="submit">ยืนยัน</button>
    <!-- </div> -->

  </form>

</ng-template>

<ng-template #delete let-modal>
  <form class="animation">
    <br>
    <div>
      <h4>คุณแน่ใจหรือไม่ ?</h4>
    </div>
    <br>
    <br>
    <br>
    <div>
      <button mat-button mat-raised-button color="warn" (click)="closeModal()">ยกเลิก</button>
      <button mat-raised-button color="primary" (click)="deleteUser()">ยืนยัน</button>
    </div>
    <br>
  </form>

</ng-template>